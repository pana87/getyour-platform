<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="shortcut icon" href="/public/getyour-logo.svg" />
    <title>Energie Plattform Abfrage Strom</title>


    <style>
      body {
        margin: 0;
        line-height: 1.2;
        font-family: sans-serif;
        padding-bottom: 144px;
      }
    </style>


  </head>
  <body>


    <script type="module">
      import { FileField } from "/js/FileField.js"
      import { Helper } from "/js/Helper.js"
      import { NumberField } from "/js/NumberField.js"
      import { SelectionField } from "/js/SelectionField.js"
      import { TextField } from "/js/TextField.js"
      import { Request } from "/js/Request.js"

      const fields = []

      const storageName = "funnel"
      let funnel = JSON.parse(window.sessionStorage.getItem(storageName))
      if (funnel === null) {
        const get = {}
        get.url = "/get/funnel/closed/1/"
        get.state = "owner"
        get.localStorageId = await Request.localStorageId()
        get.localStorageEmail = await Request.email()
        get.location = window.location.href
        get.referer = document.referrer
        const res = await Request.middleware(get)

        if (res.status === 200) {
          funnel = JSON.parse(res.response)
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        } else {
          alert("Es wurden keine Funnel Daten gefunden.")
          window.location.assign(`/felix/energie-plattform/qualifizierung/1/`)
          throw new Error("funnel not found")
        }
      }

      const header = document.createElement("header")
      header.style.position = "fixed"
      header.style.bottom = "0"
      header.style.left = "0"
      header.style.backgroundColor = "white"
      header.style.width = "100%"
      header.style.display = "flex"
      header.style.flexWrap = "wrap"
      header.style.alignItems = "center"
      header.style.zIndex = "1"
      header.style.justifyContent = "space-between"
      header.style.boxShadow = "0 -3px 5px rgba(0, 0, 0, 0.13)"

      const leftContainer = document.createElement("div")
      leftContainer.style.display = "flex"
      leftContainer.style.alignItems = "center"
      leftContainer.style.flexWrap = "wrap"

      const logo = document.createElement("img")
      logo.src = "/felix/shs/public/ep-logo.svg"
      logo.alt = "Energie Plattform"
      logo.style.width = "55px"
      logo.style.margin = "21px 0 21px 34px"
      logo.style.cursor = "pointer"
      logo.addEventListener("click", () => window.history.back())
      leftContainer.append(logo)

      const name = document.createElement("div")
      name.innerHTML = "Energie Plattform"
      name.style.padding = "21px 34px"
      name.style.fontSize = "21px"
      // name.style.color = "#7bc043"
      name.style.cursor = "pointer"
      name.addEventListener("click", () => {



        Helper.popup(overlay => {

          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = `/ ${window.location.pathname.split("/")[3]} /`
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)



          const buttons = document.createElement("div")
          buttons.style.overflow = "auto"
          buttons.style.paddingBottom = "144px"

          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign(`/felix/energie-plattform/qualifizierung/1/`))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/refresh.svg"
            icon.alt = "Neustart"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Neustart"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }

          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign(`/felix/energie-plattform/abfrage-haus/1/`))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/refresh.svg"
            icon.alt = "Neustart"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Angaben zum Haus"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }


          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign(`/felix/energie-plattform/abfrage-heizung/1/`))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/refresh.svg"
            icon.alt = "Neustart"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Angaben zur Heizung"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }

          {


            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.reload())

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/refresh.svg"
            icon.alt = "Neustart"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Angaben zum Strom"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }




          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", async () => {

              try {
                for (let i = 0; i < fields.length; i++) {
                  await fields[i].withValidValue()
                }
              } catch (error) {
                alert(`Feld '${error.fieldName}' ist notwendig.`)
                Helper.removeOverlay(overlay)
                document.getElementById(error.fieldName).scrollIntoView({behavior: 'smooth'})
                return
              }

              try {
                Helper.addOverlay()
                Helper.setWaitCursor()
                const funnel = JSON.parse(window.sessionStorage.getItem(storageName))
                {
                  const register = {}
                  register.url = "/register/funnel/closed/1/"
                  register.funnel = funnel
                  register.localStorageId = await Request.localStorageId()
                  register.localStorageEmail = await Request.email()
                  register.location = window.location.href
                  register.referer = document.referrer
                  const res = await Request.middleware(register)

                  if (res.status === 200) {
                    alert("Speichern erfolgreich..")
                    window.sessionStorage.removeItem(storageName)
                    window.location.assign(`/felix/energie-plattform/abfrage-technisches/1/`)
                  }
                }

              } catch (error) {
                alert("Fehler.. Bitte wiederholen.")
                window.location.reload()
              }


            })

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/proceed-2.svg"
            icon.alt = "Neustart"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Speichern und Weiter"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }



          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign("/getyour/pana/nutzervereinbarung/"))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/handshake.svg"
            icon.alt = "Nutzervereinbarung"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Nutzervereinbarung"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }

          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign("/getyour/pana/datenschutz/"))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/security.svg"
            icon.alt = "Sicherheit"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Datenschutz Richtilinien"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }
          {
            const button = document.createElement("div")
            button.style.display = "flex"
            button.style.flexWrap = "wrap"
            button.style.justifyContent = "space-between"
            button.style.alignItems = "center"
            button.style.margin = "21px 34px"
            button.style.backgroundColor = "rgba(255, 255, 255, 0.6)"
            button.style.borderRadius = "13px"
            button.style.border = "0.3px solid black"
            button.style.boxShadow = "0 3px 6px rgba(0, 0, 0, 0.16)"
            button.style.cursor = "pointer"
            button.addEventListener("click", () => window.location.assign("/getyour/pana/impressum/"))

            const icon = document.createElement("img")
            icon.style.margin = "13px 34px"
            icon.style.width = "34px"
            icon.src = "/public/company.svg"
            icon.alt = "Unternehmen"
            button.append(icon)

            const title = document.createElement("div")
            title.innerHTML = "Impressum"
            title.style.margin = "21px 34px"
            title.style.fontSize = "21px"
            button.append(title)

            buttons.append(button)
          }

          overlay.append(buttons)

        })


      })
      leftContainer.append(name)
      header.append(leftContainer)
      document.body.append(header)


      {
        const title = document.createElement("h1")
        title.innerHTML = "Angaben zum Strom"
        title.style.margin = "21px 34px"
        title.style.fontWeight = "normal"
        document.body.append(title)
      }

      const stromVersorger = new TextField("stromVersorger", document.body)
      .withLabel(label => label.innerHTML = "Aktueller Stromversorger")
      .withType(text => text.placeholder = "zb Netze - BW..")
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Wenn man die Stromquelle und -kosten des Kunden nicht berÃ¼cksichtigt, kann dies zu einer falschen Planung des Energiesystems fÃ¼hren. Zum Beispiel kann es sein, dass der Kunde mehr Strom erzeugt als er tatsÃ¤chlich verbraucht, was zu einem RÃ¼ckfluss von Strom ins Netz fÃ¼hrt. In diesem Fall kÃ¶nnte es passieren, dass der Netzbetreiber den Ãœberschussstrom abnimmt, aber nur zu einem niedrigeren Tarif als der Kunde fÃ¼r den Strom zahlt. Das bedeutet, dass der Kunde Geld verliert, anstatt Geld zu sparen. Auf der anderen Seite kÃ¶nnte es auch sein, dass der Kunde mehr Strom verbraucht als erzeugt und deshalb immer noch auf den Stromversorger angewiesen ist. In diesem Fall kÃ¶nnte es passieren, dass der Kunde hÃ¶here Stromrechnungen hat als erwartet, weil das Energiesystem nicht ausreichend dimensioniert ist."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })


      })
      .onInput(async() => {
        stromVersorger.withStorage(value => {
          funnel[stromVersorger.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromVersorger.withStorage(value => {
        funnel[stromVersorger.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromVersorger)

      const stromZaehlerschrankVerbaut = new SelectionField("stromZaehlerschrankVerbaut", document.body)
      .withLabel(label => label.innerHTML = "Geeigneter ZÃ¤hlerschrank verbaut")
      .withOptions(["Nein", "Ja"])
      .onWindowLoad(async event => {
        const options = await stromZaehlerschrankVerbaut.withValidValue()
        if (options[0].value === "Ja") {
          document.querySelectorAll(stromPlatzZaehlerSchrank.selectSelector).forEach(select => select.disabled = true)
        }
      })
      .onChange(event => {
        if (event.target.value === "Ja") {
          document.querySelectorAll(stromPlatzZaehlerSchrank.selectSelector).forEach(select => select.disabled = true)
          stromPlatzZaehlerSchrank.withRequired(undefined)
          stromPlatzZaehlerSchrank.withValidValue()
        } else {
          document.querySelectorAll(stromPlatzZaehlerSchrank.selectSelector).forEach(select => select.disabled = false)
          stromPlatzZaehlerSchrank.withRequired(1)
          stromPlatzZaehlerSchrank.withValidValue()
        }
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Der ZÃ¤hlerschrank ist ein wichtiger Teil des elektrischen Systems und muss den Anforderungen des Energiesystems entsprechen. Wenn ein geeigneter ZÃ¤hlerschrank nicht vorhanden ist, kann dies zu Problemen bei der Installation des Energiesystems fÃ¼hren. Zum Beispiel kÃ¶nnte es sein, dass der ZÃ¤hlerschrank nicht genÃ¼gend Platz fÃ¼r weitere Sicherungen oder zusÃ¤tzliche StromzÃ¤hler bietet. Wenn dies der Fall ist, muss der ZÃ¤hlerschrank mÃ¶glicherweise ersetzt oder erweitert werden, um Platz fÃ¼r das Energiesystem zu schaffen."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })


      })
      .onInput(async() => {
        stromZaehlerschrankVerbaut.withStorage(value => {
          funnel[stromZaehlerschrankVerbaut.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromZaehlerschrankVerbaut.withStorage(value => {
        funnel[stromZaehlerschrankVerbaut.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromZaehlerschrankVerbaut)


      const stromPlatzZaehlerSchrank = new SelectionField("stromPlatzZaehlerSchrank", document.body)
      .withLabel(label => label.innerHTML = "Platz fÃ¼r zusÃ¤tzlichen, neuen ZÃ¤hlerschrank (600x1100mm) vorhanden")
      .withOptions(["Nein", "Ja"])
      .withRequired(1)
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Der ZÃ¤hlerschrank ist ein wichtiger Teil des elektrischen Systems und muss den Anforderungen des Energiesystems entsprechen. Wenn ein geeigneter ZÃ¤hlerschrank nicht vorhanden ist, kann dies zu Problemen bei der Installation des Energiesystems fÃ¼hren. Zum Beispiel kÃ¶nnte es sein, dass der ZÃ¤hlerschrank nicht genÃ¼gend Platz fÃ¼r weitere Sicherungen oder zusÃ¤tzliche StromzÃ¤hler bietet. Wenn dies der Fall ist, muss der ZÃ¤hlerschrank mÃ¶glicherweise ersetzt oder erweitert werden, um Platz fÃ¼r das Energiesystem zu schaffen."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })


      })
      .onInput(async() => {
        stromPlatzZaehlerSchrank.withStorage(value => {
          funnel[stromPlatzZaehlerSchrank.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromPlatzZaehlerSchrank.withStorage(value => {
        funnel[stromPlatzZaehlerSchrank.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromPlatzZaehlerSchrank)


      const stromHauptzaehlerAnzahl = new SelectionField("stromHauptzaehlerAnzahl", document.body)
      .withLabel(label => label.innerHTML = "Anzahl der StromzÃ¤hler")
      .withOptions(["0", "1", "2", "3", "mehr"])
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Wenn es mehrere StromzÃ¤hler im ZÃ¤hlerschrank gibt, kann dies bedeuten, dass das Haus oder GebÃ¤ude Ã¼ber mehrere Stromkreise verfÃ¼gt. Jeder Stromkreis hat seine eigenen Anforderungen und KapazitÃ¤ten, die bei der Planung des Energiesystems berÃ¼cksichtigt werden mÃ¼ssen. Zum Beispiel benÃ¶tigt eine WÃ¤rmepumpe mÃ¶glicherweise einen eigenen Stromkreis, um sicherzustellen, dass sie genÃ¼gend Strom bekommt, um effizient zu arbeiten. DarÃ¼ber hinaus kann die Kenntnis der Anzahl der StromzÃ¤hler im ZÃ¤hlerschrank auch dabei helfen, den Energieverbrauch des Hauses oder GebÃ¤udes besser zu verstehen. Dies kann wiederum dazu beitragen, das Energiesystem so zu planen, dass es den BedÃ¼rfnissen des Hauses oder GebÃ¤udes entspricht und dabei den Energieverbrauch senkt."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })


      })
      .onInput(async() => {
        stromHauptzaehlerAnzahl.withStorage(value => {
          funnel[stromHauptzaehlerAnzahl.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromHauptzaehlerAnzahl.withStorage(value => {
        funnel[stromHauptzaehlerAnzahl.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromHauptzaehlerAnzahl)


      const stromWievieleNeueZaehler = new SelectionField("stromWievieleNeueZaehler", document.body)
      .withLabel(label => label.innerHTML = "Wie viele zusÃ¤tzliche ZÃ¤hler")
      .withOptions(["1", "2", "3"])
      .onInput(async() => {
        stromWievieleNeueZaehler.withStorage(value => {
          funnel[stromWievieleNeueZaehler.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromWievieleNeueZaehler.withStorage(value => {
        funnel[stromWievieleNeueZaehler.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromWievieleNeueZaehler)



      const stromUnterzaehlerNotwendig = new SelectionField("stromUnterzaehlerNotwendig", document.body)
      .withLabel(label => label.innerHTML = "ZusÃ¤tzlicher Unter-/ZwischenzÃ¤hler notwendig")
      .withOptions(["Nein", "Ja"])
      .onWindowLoad(async event => {
        const options = await stromUnterzaehlerNotwendig.withValidValue()
        if (options[0].value === "Nein") {
          document.querySelectorAll(stromWievieleNeueZaehler.selectSelector).forEach(select => select.disabled = true)
        } else {
          document.querySelectorAll(stromWievieleNeueZaehler.selectSelector).forEach(select => select.disabled = false)
        }
      })
      .onChange(event => {
        if (event.target.value === "Ja") {
          document.querySelectorAll(stromWievieleNeueZaehler.selectSelector).forEach(select => select.disabled = false)
        } else {
          document.querySelectorAll(stromWievieleNeueZaehler.selectSelector).forEach(select => select.disabled = true)
        }
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Ein ZwischenzÃ¤hler ist ein zusÃ¤tzlicher StromzÃ¤hler, der zwischen dem HauptstromzÃ¤hler und dem elektrischen System installiert wird, um den Stromverbrauch bestimmter GerÃ¤te oder Systeme zu messen. Wenn das Energiesystem, das Sie planen und bauen, eine WÃ¤rmepumpe, eine Photovoltaikanlage mit Speicher oder eine Solarthermieanlage enthÃ¤lt, mÃ¼ssen Sie mÃ¶glicherweise einen ZwischenzÃ¤hler installieren, um den Stromverbrauch dieser GerÃ¤te separat zu messen. Die Messung des Stromverbrauchs von GerÃ¤ten wie WÃ¤rmepumpen ist wichtig, um sicherzustellen, dass das Energiesystem effizient arbeitet und nicht Ã¼berlastet wird. Wenn die WÃ¤rmepumpe zum Beispiel zu viel Strom verbraucht, kann dies zu einer Ãœberlastung des Stromnetzes fÃ¼hren, was zu StÃ¶rungen und AusfÃ¤llen fÃ¼hren kann. Durch die Installation eines ZwischenzÃ¤hlers kÃ¶nnen Sie den Stromverbrauch der WÃ¤rmepumpe oder anderen GerÃ¤te separat messen und kontrollieren, um sicherzustellen, dass das Energiesystem effizient und sicher arbeitet. DarÃ¼ber hinaus kann die Installation eines ZwischenzÃ¤hlers auch dabei helfen, den Energieverbrauch des Hauses oder GebÃ¤udes besser zu verstehen. Dies kann dazu beitragen, den Energieverbrauch zu senken, indem ineffiziente GerÃ¤te oder Systeme identifiziert und ersetzt werden."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })


      })
      .onInput(async() => {
        stromUnterzaehlerNotwendig.withStorage(value => {
          funnel[stromUnterzaehlerNotwendig.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromUnterzaehlerNotwendig.withStorage(value => {
        funnel[stromUnterzaehlerNotwendig.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromUnterzaehlerNotwendig)


      const stromHauptzaehlerNummer = new TextField("stromHauptzaehlerNummer", document.body)
      .withLabel(label => label.innerHTML = "ZÃ¤hlernummer HauptzÃ¤hler")
      .withType(text => {
        text.placeholder = "44600637"
        const q7 = funnel.q7
        if (q7 === 0) {
          text.required = true
        }
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Der HauptzÃ¤hler ist der StromzÃ¤hler, der den Gesamtstromverbrauch des Hauses oder GebÃ¤udes misst. Wenn Sie ein neues Energiesystem installieren, mÃ¼ssen Sie die ZÃ¤hlernummer des HauptzÃ¤hlers kennen, um sicherzustellen, dass das System korrekt konfiguriert wird und mit dem Stromnetz verbunden ist. Die ZÃ¤hlernummer ist eine eindeutige Kennung, die dem HauptzÃ¤hler zugewiesen wird. Es handelt sich in der Regel um eine Kombination aus Buchstaben und Zahlen, die auf dem ZÃ¤hler selbst oder auf der Stromrechnung zu finden ist."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })


      })
      .onInput(async() => {
        stromHauptzaehlerNummer.withStorage(value => {
          funnel[stromHauptzaehlerNummer.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromHauptzaehlerNummer.withStorage(value => {
        funnel[stromHauptzaehlerNummer.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromHauptzaehlerNummer)


      const stromNebenzaehlerNummer = new TextField("stromNebenzaehlerNummer", document.body)
      .withLabel(label => label.innerHTML = "ZÃ¤hlernummer NebenzÃ¤hler")
      .withType(text => text.placeholder = "33104800")
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Ein NebenzÃ¤hler ist ein zusÃ¤tzlicher StromzÃ¤hler, der hÃ¤ufig verwendet wird, um den Stromverbrauch von speziellen Stromkreisen oder GerÃ¤ten in einem GebÃ¤ude zu messen. Zum Beispiel kann ein NebenzÃ¤hler den Stromverbrauch von Elektroautos, WÃ¤rmepumpen oder Heizsystemen messen. Wenn Sie ein neues Energiesystem installieren, mÃ¼ssen Sie die ZÃ¤hlernummer des NebenzÃ¤hlers kennen, um sicherzustellen, dass das System korrekt konfiguriert wird und mit dem richtigen NebenzÃ¤hler verbunden ist. Die ZÃ¤hlernummer ist eine eindeutige Kennung, die dem NebenzÃ¤hler zugewiesen wird. Es handelt sich in der Regel um eine Kombination aus Buchstaben und Zahlen, die auf dem ZÃ¤hler selbst oder auf der Stromrechnung zu finden ist."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })


      })
      .onInput(async() => {
        stromNebenzaehlerNummer.withStorage(value => {
          funnel[stromNebenzaehlerNummer.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromNebenzaehlerNummer.withStorage(value => {
        funnel[stromNebenzaehlerNummer.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromNebenzaehlerNummer)


      const stromZaehlerKonzeptZusammen = new SelectionField("stromZaehlerKonzeptZusammen", document.body)
      .withLabel(label => label.innerHTML = "Sollen alle StromzÃ¤hler auf einen StromzÃ¤hler zusammengelegt werden")
      .withOptions(["Nein", "Ja", "E-Auto", "WÃ¤rmepumpe", "Pool", "Durchlauferhitzer", "Nachtspeicherheizung", "Sonstige"])
      .withType(select => select.multiple = true)
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Wenn mehrere StromzÃ¤hler in einem GebÃ¤ude vorhanden sind, kann es manchmal vorkommen, dass sie nicht alle gleichzeitig arbeiten oder auf verschiedene Energiequellen zugreifen. In diesem Fall kann es sinnvoll sein, alle StromzÃ¤hler auf einen einzigen ZÃ¤hler zusammenzulegen, um den Energiefluss im GebÃ¤ude besser zu steuern und den Stromverbrauch zu optimieren. Wenn Sie ein neues Energiesystem installieren, mÃ¼ssen Sie daher wissen, ob alle StromzÃ¤hler auf einen ZÃ¤hler zusammengelegt werden sollen oder nicht. Dies kann sich auf die Konfiguration des Energiesystems auswirken und beeinflussen, wie es installiert und angeschlossen wird. Wenn alle StromzÃ¤hler auf einen ZÃ¤hler zusammengelegt werden sollen, mÃ¼ssen Sie sicherstellen, dass das Energiesystem entsprechend konfiguriert ist und alle GerÃ¤te korrekt angeschlossen sind. Wenn die GerÃ¤te auf verschiedene Stromkreise verteilt sind, mÃ¼ssen Sie mÃ¶glicherweise zusÃ¤tzliche Schaltungen oder Verkabelungen hinzufÃ¼gen, um sicherzustellen, dass das System ordnungsgemÃ¤ÃŸ funktioniert"
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })



      })
      .onInput(async() => {
        stromZaehlerKonzeptZusammen.withStorage(value => {
          funnel[stromZaehlerKonzeptZusammen.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromZaehlerKonzeptZusammen.withStorage(value => {
        funnel[stromZaehlerKonzeptZusammen.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromZaehlerKonzeptZusammen)


      const stromJahresverbrauch = new NumberField("stromJahresverbrauch", document.body)
      .withLabel(label => label.innerHTML = "Jahresstromverbrauch HauptzÃ¤hler in kWh")
      .withType(number => {
        number.min = 0
        number.placeholder = "in kWh"
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Dieser Wert gibt an, wie viel Strom Sie innerhalb eines Jahres benÃ¶tigen. Sie kÃ¶nnen diesen Wert anhand der Stromrechnungen ermitteln oder eine SchÃ¤tzung anhand der GrÃ¶ÃŸe des Hauses, der Anzahl der Bewohner und der Art der elektrischen GerÃ¤te vornehmen. Wenn Sie den Jahresstromverbrauch nicht berÃ¼cksichtigen, kÃ¶nnen Sie ein System entwerfen, das entweder zu viel oder zu wenig Energie erzeugt, was zu zusÃ¤tzlichen Kosten oder einer unzureichenden Energieversorgung fÃ¼hren kann."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })


      })
      .onInput(async() => {
        stromJahresverbrauch.withStorage(value => {
          funnel[stromJahresverbrauch.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromJahresverbrauch.withStorage(value => {
        funnel[stromJahresverbrauch.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromJahresverbrauch)


      const stromNebenzaehlerFunktion = new NumberField("stromNebenzaehlerFunktion", document.body)
      .withLabel(label => label.innerHTML = "2. StromzÃ¤hler, Zweck und Jahresstromverbrauch in kWh")
      .withType(number => {
        number.min = 0
        number.placeholder = "in kWh"
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Dieser Wert gibt an, wie viel Strom Sie innerhalb eines Jahres benÃ¶tigen. Sie kÃ¶nnen diesen Wert anhand der Stromrechnungen ermitteln oder eine SchÃ¤tzung anhand der GrÃ¶ÃŸe des Hauses, der Anzahl der Bewohner und der Art der elektrischen GerÃ¤te vornehmen. Wenn Sie den Jahresstromverbrauch nicht berÃ¼cksichtigen, kÃ¶nnen Sie ein System entwerfen, das entweder zu viel oder zu wenig Energie erzeugt, was zu zusÃ¤tzlichen Kosten oder einer unzureichenden Energieversorgung fÃ¼hren kann."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })


      })
      .onInput(async() => {
        stromNebenzaehlerFunktion.withStorage(value => {
          funnel[stromNebenzaehlerFunktion.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromNebenzaehlerFunktion.withStorage(value => {
        funnel[stromNebenzaehlerFunktion.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromNebenzaehlerFunktion)


      const stromArbeitspreis = new NumberField("stromArbeitspreis", document.body)
      .withLabel(label => label.innerHTML = "Arbeitspreis brutto Cent/kWh")
      .withType(number => {
        number.min = 0
        number.placeholder = "in cent"
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Es ist wichtig, den Jahresstrompreis bei der Planung des Energiesystems zu berÃ¼cksichtigen, da dies sicherstellt, dass das System nicht nur den Bedarf des Kunden deckt, sondern auch kosteneffizient ist. Wenn Sie den Jahresstrompreis nicht berÃ¼cksichtigen, kÃ¶nnen Sie ein System entwerfen, das unnÃ¶tig teuer ist und zu hÃ¶heren Stromkosten fÃ¼hren kann."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })



      })
      .onInput(async() => {
        stromArbeitspreis.withStorage(value => {
          funnel[stromArbeitspreis.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromArbeitspreis.withStorage(value => {
        funnel[stromArbeitspreis.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromArbeitspreis)


      const stromGrundpreis = new NumberField("stromGrundpreis", document.body)
      .withLabel(label => label.innerHTML = "Grundpreis brutto/Jahr in Euro")
      .withType(number => {
        number.min = 0
        number.placeholder = "in euro"
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Es ist wichtig, den Jahresstrompreis bei der Planung des Energiesystems zu berÃ¼cksichtigen, da dies sicherstellt, dass das System nicht nur den Bedarf des Kunden deckt, sondern auch kosteneffizient ist. Wenn Sie den Jahresstrompreis nicht berÃ¼cksichtigen, kÃ¶nnen Sie ein System entwerfen, das unnÃ¶tig teuer ist und zu hÃ¶heren Stromkosten fÃ¼hren kann."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })



      })
      .onInput(async() => {
        stromGrundpreis.withStorage(value => {
          funnel[stromGrundpreis.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromGrundpreis.withStorage(value => {
        funnel[stromGrundpreis.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromGrundpreis)


      const stromArbeitspreisWaerme = new NumberField("stromArbeitspreisWaerme", document.body)
      .withLabel(label => label.innerHTML = "WÃ¤rmestrom Arbeitspreis brutto Cent/kWh")
      .withType(number => {
        number.min = 0
        number.placeholder = "in cent"
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Es ist wichtig, den WÃ¤rmestrompreis bei der Planung des Energiesystems zu berÃ¼cksichtigen, da dies sicherstellt, dass das System nicht nur den Bedarf des Kunden deckt, sondern auch kosteneffizient ist. Wenn Sie den WÃ¤rmestrompreis nicht berÃ¼cksichtigen, kÃ¶nnen Sie ein System entwerfen, das unnÃ¶tig teuer ist und zu hÃ¶heren Kosten fÃ¼hren kann."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })



      })
      .onInput(async() => {
        stromArbeitspreisWaerme.withStorage(value => {
          funnel[stromArbeitspreisWaerme.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromArbeitspreisWaerme.withStorage(value => {
        funnel[stromArbeitspreisWaerme.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromArbeitspreisWaerme)


      const stromaGrundpreisWaerme = new NumberField("stromaGrundpreisWaerme", document.body)
      .withLabel(label => label.innerHTML = "WÃ¤rmestrom Grundpreis brutto/Jahr in Euro")
      .withType(number => {
        number.min = 0
        number.placeholder = "in euro"
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Es ist wichtig, den WÃ¤rmestrompreis bei der Planung des Energiesystems zu berÃ¼cksichtigen, da dies sicherstellt, dass das System nicht nur den Bedarf des Kunden deckt, sondern auch kosteneffizient ist. Wenn Sie den WÃ¤rmestrompreis nicht berÃ¼cksichtigen, kÃ¶nnen Sie ein System entwerfen, das unnÃ¶tig teuer ist und zu hÃ¶heren Kosten fÃ¼hren kann."
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })



      })
      .onInput(async() => {
        stromaGrundpreisWaerme.withStorage(value => {
          funnel[stromaGrundpreisWaerme.name] = value
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        })
      })
      .fromStorage((name) => funnel[name])
      stromaGrundpreisWaerme.withStorage(value => {
        funnel[stromaGrundpreisWaerme.name] = value
        window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
      })
      fields.push(stromaGrundpreisWaerme)


      {
        const title = document.createElement("h1")
        title.innerHTML = "Bilder Upload"
        title.style.margin = "144px 34px 21px 34px"
        title.style.fontWeight = "normal"
        document.body.append(title)
      }


      const stromZaehlerschrankBild = new FileField("stromZaehlerschrankBild", document.body)
      .withLabel(label => label.innerHTML = "Kompletter ZÃ¤hlerschrank")
      .withType(file => {
        file.accept = "image/jpeg, image/png"
        const q7 = funnel.q7
        if (q7 === 0) {
          file.required = true
        }
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Gesamtes Innenleben"
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })



      })
      .onInput(() => {
        stromZaehlerschrankBild.withStorage(async value => {

          let array = []
          const allowedMimeTypes = ["image/jpeg", "image/png"]
          const allowedExtensions = ["jpg", "jpeg", "png"]
          for (let i = 0; i < value.length; i++) {


            await Helper.verifyFileMimeTypes(value[i], allowedMimeTypes)
            .catch(error => {
              alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
              Helper.setNotValidStyle(document.querySelector(stromZaehlerschrankBild.inputSelector))
              throw error
            })

            await Helper.verifyFileExtension(value[i], allowedExtensions)
            .catch(error => {
              alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
              Helper.setNotValidStyle(document.querySelector(stromZaehlerschrankBild.inputSelector))
              throw error
            })

            const dataUrl = await Helper.convertImageFileToDataUrl(value[i])
            const dataUrlSize = Helper.calculateDataUrlSize(dataUrl)
            if (dataUrlSize > 1024 * 1024) {
              alert("Bild ist zu groÃŸ.")
              Helper.setNotValidStyle(document.querySelector(stromZaehlerschrankBild.inputSelector))
              throw new Error("image too large")
            }

            array.push({
              name: value[i].name,
              type: value[i].type,
              size: dataUrlSize,
              lastModified: Date.now(),
              dataUrl: dataUrl,
            })

          }

          if (array.length > 0) {
            funnel[stromZaehlerschrankBild.name] = array
            window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
          }

        })
      })
      .fromStorage((name) => funnel[name])
      stromZaehlerschrankBild.withStorage(async value => {


        let array = []
        const allowedMimeTypes = ["image/jpeg", "image/png"]
        const allowedExtensions = ["jpg", "jpeg", "png"]
        for (let i = 0; i < value.length; i++) {


          await Helper.verifyFileMimeTypes(value[i], allowedMimeTypes)
          .catch(error => {
            alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
            Helper.setNotValidStyle(document.querySelector(stromZaehlerschrankBild.inputSelector))
            throw error
          })

          await Helper.verifyFileExtension(value[i], allowedExtensions)
          .catch(error => {
            alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
            Helper.setNotValidStyle(document.querySelector(stromZaehlerschrankBild.inputSelector))
            throw error
          })

          const dataUrl = await Helper.convertImageFileToDataUrl(value[i])
          const dataUrlSize = Helper.calculateDataUrlSize(dataUrl)
          if (dataUrlSize > 1024 * 1024) {
            alert("Bild ist zu groÃŸ.")
            Helper.setNotValidStyle(document.querySelector(stromZaehlerschrankBild.inputSelector))
            throw new Error("image too large")
          }

          array.push({
            name: value[i].name,
            type: value[i].type,
            size: dataUrlSize,
            lastModified: Date.now(),
            dataUrl: dataUrl,
          })

        }

        if (array.length > 0) {
          funnel[stromZaehlerschrankBild.name] = array
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        }

      })
      fields.push(stromZaehlerschrankBild)


      const stromTypenBezeichnungBild = new FileField("stromTypenBezeichnungBild", document.body)
      .withLabel(label => label.innerHTML = "Typenbezeichnung")
      .withType(file => {
        file.accept = "image/jpeg, image/png"
        const q7 = funnel.q7
        if (q7 === 0) {
          file.required = true
        }
      })
      .onInput(() => {
        stromTypenBezeichnungBild.withStorage(async value => {


          let array = []
          const allowedMimeTypes = ["image/jpeg", "image/png"]
          const allowedExtensions = ["jpg", "jpeg", "png"]
          for (let i = 0; i < value.length; i++) {


            await Helper.verifyFileMimeTypes(value[i], allowedMimeTypes)
            .catch(error => {
              alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
              Helper.setNotValidStyle(document.querySelector(stromTypenBezeichnungBild.inputSelector))
              throw error
            })

            await Helper.verifyFileExtension(value[i], allowedExtensions)
            .catch(error => {
              alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
              Helper.setNotValidStyle(document.querySelector(stromTypenBezeichnungBild.inputSelector))
              throw error
            })

            const dataUrl = await Helper.convertImageFileToDataUrl(value[i])
            const dataUrlSize = Helper.calculateDataUrlSize(dataUrl)
            if (dataUrlSize > 1024 * 1024) {
              alert("Bild ist zu groÃŸ.")
              Helper.setNotValidStyle(document.querySelector(stromTypenBezeichnungBild.inputSelector))
              throw new Error("image too large")
            }

            array.push({
              name: value[i].name,
              type: value[i].type,
              size: dataUrlSize,
              lastModified: Date.now(),
              dataUrl: dataUrl,
            })

          }

          if (array.length > 0) {
            funnel[stromTypenBezeichnungBild.name] = array
            window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
          }

        })
      })
      .fromStorage((name) => funnel[name])
      stromTypenBezeichnungBild.withStorage(async value => {


        let array = []
        const allowedMimeTypes = ["image/jpeg", "image/png"]
        const allowedExtensions = ["jpg", "jpeg", "png"]
        for (let i = 0; i < value.length; i++) {


          await Helper.verifyFileMimeTypes(value[i], allowedMimeTypes)
          .catch(error => {
            alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
            Helper.setNotValidStyle(document.querySelector(stromTypenBezeichnungBild.inputSelector))
            throw error
          })

          await Helper.verifyFileExtension(value[i], allowedExtensions)
          .catch(error => {
            alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
            Helper.setNotValidStyle(document.querySelector(stromTypenBezeichnungBild.inputSelector))
            throw error
          })

          const dataUrl = await Helper.convertImageFileToDataUrl(value[i])
          const dataUrlSize = Helper.calculateDataUrlSize(dataUrl)
          if (dataUrlSize > 1024 * 1024) {
            alert("Bild ist zu groÃŸ.")
            Helper.setNotValidStyle(document.querySelector(stromTypenBezeichnungBild.inputSelector))
            throw new Error("image too large")
          }

          array.push({
            name: value[i].name,
            type: value[i].type,
            size: dataUrlSize,
            lastModified: Date.now(),
            dataUrl: dataUrl,
          })

        }

        if (array.length > 0) {
          funnel[stromTypenBezeichnungBild.name] = array
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        }

      })
      fields.push(stromTypenBezeichnungBild)


      const stromAllezaehlerBild = new FileField("stromAllezaehlerBild", document.body)
      .withLabel(label => label.innerHTML = "Alle ZÃ¤hler")
      .withType(file => {
        file.accept = "image/jpeg, image/png"
        file.multiple = true
        const q7 = funnel.q7
        if (q7 === 0) {
          file.required = true
        }
      })
      .onInfoClick(() => {


        Helper.popup(overlay => {


          const header = document.createElement("div")
          header.style.position = "fixed"
          header.style.bottom = "0"
          header.style.left = "0"
          header.style.width = "100%"
          header.style.display = "flex"
          header.style.justifyContent = "flex-start"
          header.style.alignItems = "center"
          header.style.boxShadow = "0px 5px 10px rgba(0, 0, 0, 0.5)"
          header.style.background = "white"
          header.style.cursor = "pointer"
          header.addEventListener("click", () => Helper.removeOverlay(overlay))

          const logo = document.createElement("img")
          logo.src = "/felix/shs/public/ep-logo.svg"
          logo.alt = "Energie Plattform"
          logo.style.width = "55px"
          logo.style.margin = "21px 34px"
          header.append(logo)
          const title = document.createElement("div")
          title.innerHTML = "Wissenswertes"
          title.style.fontWeight = "bold"
          title.style.fontSize = "21px"
          header.append(title)
          overlay.append(header)


          const content = document.createElement("div")
          content.style.overflow = "auto"
          content.style.display = "flex"
          content.style.flexDirection = "column"
          content.style.justifyContent = "space-between"
          content.style.minHeight = "100vh"
          {

            {
              const info = document.createElement("div")
              info.style.margin = "21px 34px"
              info.style.lineHeight = "1.4"
              info.style.fontSize = "21px"
              info.innerHTML = "Die ZÃ¤hlernummer sollte klar und deutlich lesbar sein"
              content.append(info)
            }

            const buttons = document.createElement("div")
            buttons.style.display = "flex"
            buttons.style.justifyContent = "space-between"
            buttons.style.margin = "34px"
            buttons.style.paddingBottom = "144px"

            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘Ž"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.width = "89px"
              button.style.height = "55px"
              button.style.background = "rgb(204,50,50)"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }
            {
              const button = document.createElement("div")
              button.innerHTML = "ðŸ‘"
              button.style.background = "rgb(45,201,55)"
              button.style.display = "flex"
              button.style.justifyContent = "center"
              button.style.alignItems = "center"
              button.style.height = "55px"
              button.style.width = "89px"
              button.style.color = "white"
              button.style.borderRadius = "8px"
              button.style.fontSize = "21px"
              button.style.cursor = "pointer"
              button.addEventListener("click", () => Helper.removeOverlay(overlay))
              buttons.append(button)
            }

            content.append(buttons)
          }
          overlay.append(content)
        })



      })
      .onInput(() => {
        stromAllezaehlerBild.withStorage(async value => {

          let array = []
          const allowedMimeTypes = ["image/jpeg", "image/png"]
          const allowedExtensions = ["jpg", "jpeg", "png"]
          for (let i = 0; i < value.length; i++) {


            await Helper.verifyFileMimeTypes(value[i], allowedMimeTypes)
            .catch(error => {
              alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
              Helper.setNotValidStyle(document.querySelector(stromAllezaehlerBild.inputSelector))
              throw error
            })

            await Helper.verifyFileExtension(value[i], allowedExtensions)
            .catch(error => {
              alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
              Helper.setNotValidStyle(document.querySelector(stromAllezaehlerBild.inputSelector))
              throw error
            })

            const dataUrl = await Helper.convertImageFileToDataUrl(value[i])
            const dataUrlSize = Helper.calculateDataUrlSize(dataUrl)
            if (dataUrlSize > 1024 * 1024) {
              alert("Bild ist zu groÃŸ.")
              Helper.setNotValidStyle(document.querySelector(stromAllezaehlerBild.inputSelector))
              throw new Error("image too large")
            }

            array.push({
              name: value[i].name,
              type: value[i].type,
              size: dataUrlSize,
              lastModified: Date.now(),
              dataUrl: dataUrl,
            })

          }

          if (array.length > 0) {
            funnel[stromAllezaehlerBild.name] = array
            window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
          }

        })
      })
      .fromStorage((name) => funnel[name])
      stromAllezaehlerBild.withStorage(async value => {



        let array = []
        const allowedMimeTypes = ["image/jpeg", "image/png"]
        const allowedExtensions = ["jpg", "jpeg", "png"]
        for (let i = 0; i < value.length; i++) {


          await Helper.verifyFileMimeTypes(value[i], allowedMimeTypes)
          .catch(error => {
            alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
            Helper.setNotValidStyle(document.querySelector(stromAllezaehlerBild.inputSelector))
            throw error
          })

          await Helper.verifyFileExtension(value[i], allowedExtensions)
          .catch(error => {
            alert(`Erlaubte Bildformate: ${allowedExtensions.join(", ")}`)
            Helper.setNotValidStyle(document.querySelector(stromAllezaehlerBild.inputSelector))
            throw error
          })

          const dataUrl = await Helper.convertImageFileToDataUrl(value[i])
          const dataUrlSize = Helper.calculateDataUrlSize(dataUrl)
          if (dataUrlSize > 1024 * 1024) {
            alert("Bild ist zu groÃŸ.")
            Helper.setNotValidStyle(document.querySelector(stromAllezaehlerBild.inputSelector))
            throw new Error("image too large")
          }

          array.push({
            name: value[i].name,
            type: value[i].type,
            size: dataUrlSize,
            lastModified: Date.now(),
            dataUrl: dataUrl,
          })

        }

        if (array.length > 0) {
          funnel[stromAllezaehlerBild.name] = array
          window.sessionStorage.setItem(storageName, JSON.stringify(funnel))
        }

      })
      fields.push(stromAllezaehlerBild)



    </script>

  </body>
</html>
